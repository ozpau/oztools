# kgl


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

This module requires kaggle API token in order to work. See
[here](https://github.com/Kaggle/kaggle-api/blob/main/docs/README.md#api-credentials)
for info on how to setup that.

## Competition utils

Modified version of
[`setup_comp`](https://ozellpaukert.github.io/oztools/api/kgl.html#setup_comp)
from `fastkaggle`. I like to put my data into `data` folders so it’s
easier to mask them in version control.

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L21"
target="_blank" style="float:right; font-size:smaller">source</a>

### setup_comp

>  setup_comp (competition, install='')

*Get a path to data for `competition`, downloading it if needed*

## Setup competition projects

``` python
api = import_kaggle()
comps = api.competitions_list()
comp = comps[0]
comp.title, comp.url.split("/")[-1]
```

    ('AI Mathematical Olympiad - Progress Prize 2',
     'ai-mathematical-olympiad-progress-prize-2')

``` python
len("equity-post-HCT-survival-prediction  ")
```

    37

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L37"
target="_blank" style="float:right; font-size:smaller">source</a>

### disp_comp

>  disp_comp (comp)

``` python
joinedkey = attrkey("user_has_entered")
```

``` python
comps.sort(key=joinedkey)
active, entered = (list(y) for x,y in it.groupby(comps, lambda x: x.user_has_entered))
```

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L42"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_competitions

>  get_competitions ()

``` python
active, entered = get_competitions()
active[:1], entered[:1]
```

    ([{"id": 86023, "ref": "https://www.kaggle.com/competitions/ai-mathematical-olympiad-progress-prize-2", "title": "AI Mathematical Olympiad - Progress Prize 2", "url": "https://www.kaggle.com/competitions/ai-mathematical-olympiad-progress-prize-2", "description": "Solve national-level math challenges using artificial intelligence models", "organizationName": "AI|MO", "organizationRef": "", "category": "Featured", "reward": "2,117,152 Usd", "tags": [{"ref": "nlp", "name": "nlp", "description": "Natural Language Processing gives a computer program the ability to extract meaning human language. Applications include sentiment analysis, translation, and speech recognition.", "fullPath": "analysis > nlp", "competitionCount": 89, "datasetCount": 4512, "scriptCount": 8533, "totalCount": 13134}, {"ref": "mathematics", "name": "mathematics", "description": "", "fullPath": "subject > mathematics", "competitionCount": 4, "datasetCount": 120, "scriptCount": 179, "totalCount": 303}, {"ref": "accuracy score", "name": "accuracy score", "description": "Accuracy classification score. See https://scikit-learn.org/stable/modules/generated/sklearn.metrics.accuracy_score.html", "fullPath": "", "competitionCount": 0, "datasetCount": 0, "scriptCount": 0, "totalCount": 0}], "deadline": "2025-04-01T23:59:00.000Z", "kernelCount": 0, "teamCount": 2162, "userHasEntered": false, "userRank": 0, "mergerDeadline": "2025-03-25T23:59:00.000Z", "newEntrantDeadline": "2025-03-25T23:59:00.000Z", "enabledDate": "2024-10-17T15:00:47.587Z", "maxDailySubmissions": 1, "maxTeamSize": 7, "evaluationMetric": "Accuracy Score", "awardsPoints": true, "isKernelsSubmissionsOnly": true, "submissionsDisabled": false}],
     [{"id": 91714, "ref": "https://www.kaggle.com/competitions/playground-series-s5e3", "title": "Binary Prediction with a Rainfall Dataset", "url": "https://www.kaggle.com/competitions/playground-series-s5e3", "description": "Playground Series - Season 5, Episode 3", "organizationName": "Kaggle", "organizationRef": "", "category": "Playground", "reward": "Swag", "tags": [{"ref": "weather and climate", "name": "weather and climate", "description": "Weather datasets and kernels come in all wind speeds and directions. You have weather data about hurricanes and other inclement phenomena, hourly readings, and general weather for various cities.", "fullPath": "subject > earth and nature > environment > weather and climate", "competitionCount": 13, "datasetCount": 1319, "scriptCount": 624, "totalCount": 1956}, {"ref": "beginner", "name": "beginner", "description": "New to data science? Explore tips, tricks, and beginner friendly work from other Kagglers.", "fullPath": "audience > beginner", "competitionCount": 12902, "datasetCount": 8233, "scriptCount": 42012, "totalCount": 63147}, {"ref": "time series analysis", "name": "time series analysis", "description": "", "fullPath": "technique > time series analysis", "competitionCount": 479, "datasetCount": 2663, "scriptCount": 3716, "totalCount": 6858}, {"ref": "tabular", "name": "tabular", "description": "", "fullPath": "data type > tabular", "competitionCount": 13566, "datasetCount": 11739, "scriptCount": 7106, "totalCount": 32411}, {"ref": "roc auc score", "name": "roc auc score", "description": "Compute Area Under the Receiver Operating Characteristic Curve (ROC AUC)     from prediction scores. See https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html", "fullPath": "", "competitionCount": 0, "datasetCount": 0, "scriptCount": 0, "totalCount": 0}], "deadline": "2025-03-31T23:59:00.000Z", "kernelCount": 0, "teamCount": 2734, "userHasEntered": true, "userRank": 2040, "mergerDeadline": "2025-03-31T23:59:00.000Z", "newEntrantDeadline": null, "enabledDate": "2025-03-01T00:01:34.057Z", "maxDailySubmissions": 5, "maxTeamSize": 3, "evaluationMetric": "Roc Auc Score", "awardsPoints": false, "isKernelsSubmissionsOnly": false, "submissionsDisabled": false}])

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L53"
target="_blank" style="float:right; font-size:smaller">source</a>

### kgl_list

>  kgl_list ()

*List kaggle competitions*

``` python
print(kgl_list())
```

    Joined:
      1   playground-series-s5e3                   Binary Prediction with a Rainfall Datase
      2   store-sales-time-series-forecasting      Store Sales - Time Series Forecasting
    Active:
      3   ai-mathematical-olympiad-progress-prize- AI Mathematical Olympiad - Progress Priz
      4   stanford-rna-3d-folding                  Stanford RNA 3D Folding
      5   byu-locating-bacterial-flagellar-motors- BYU - Locating Bacterial Flagellar Motor
      6   march-machine-learning-mania-2025        March Machine Learning Mania 2025
      7   drawing-with-llms                        Drawing with LLMs
      8   birdclef-2025                            BirdCLEF+ 2025
      9   titanic                                  Titanic - Machine Learning from Disaster
      10  home-data-for-ml-course                  Housing Prices Competition for Kaggle Le
      11  house-prices-advanced-regression-techniq House Prices - Advanced Regression Techn
      12  spaceship-titanic                        Spaceship Titanic
      13  digit-recognizer                         Digit Recognizer
      14  nlp-getting-started                      Natural Language Processing with Disaste
      15  connectx                                 Connect X
      16  llm-classification-finetuning            LLM Classification Finetuning
      17  gan-getting-started                      I’m Something of a Painter Myself
      18  contradictory-my-dear-watson             Contradictory, My Dear Watson
      19  tpu-getting-started                      Petals to the Metal - Flower Classificat
      20  konwinski-prize                          Konwinski Prize

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L62"
target="_blank" style="float:right; font-size:smaller">source</a>

### maybe_int

>  maybe_int (x:str)

``` python
comp = comps[0]
```

``` python
comp.url
```

    'https://www.kaggle.com/competitions/ai-mathematical-olympiad-progress-prize-2'

``` python
comp.title
```

    'AI Mathematical Olympiad - Progress Prize 2'

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L69"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_competition

>  get_competition (n:str)

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L82"
target="_blank" style="float:right; font-size:smaller">source</a>

### kgl_new

>  kgl_new (n:str, save_to:str)

*Setup nbdev environment for a kaggle competition*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>n</td>
<td>str</td>
<td>competition id or name</td>
</tr>
<tr>
<td>save_to</td>
<td>str</td>
<td>project name to use locally and for github</td>
</tr>
</tbody>
</table>

## Adopted from fastkaggle

Changes: - Allow uploading current project even if it’s not on pip -
Kaggle API changed since 3 years ago, so had to fix code

------------------------------------------------------------------------

<a
href="https://github.com/ozellpaukert/oztools/blob/main/oztools/kgl.py#L96"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_lib_dataset

>  create_lib_dataset (ds_name, lib_source, lib_path, username,
>                          clear_after=False)

*For each library, create or update a kaggle dataset with the latest
version*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ds_name</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>lib_source</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>lib_path</td>
<td></td>
<td></td>
<td>Local path to dl/create dataset</td>
</tr>
<tr>
<td>username</td>
<td></td>
<td></td>
<td>You username</td>
</tr>
<tr>
<td>clear_after</td>
<td>bool</td>
<td>False</td>
<td>Delete local copies after sync with kaggle?</td>
</tr>
</tbody>
</table>
